//COMPILDB  JOB MSGLEVEL=1,REGION=0M,NOTIFY=&SYSUID,CLASS=A,MSGCLASS=H
//*     - - -  ADD A JOB CARD ABOVE THIS LINE  - - -
//*
//*  SAMPLE JCL TO PREPARE AN ENTERPRISE COBOL PROGRAM
//*  FOR THE IBM ZSERIES ADFz PRODUCTS:
//*     FAULT ANALYZER, DEBUG TOOL, AND APPLICATION PERF. ANALYZER
//*
//*  NOTES:
//*
//*   COMPILER:
//*    1. A TEST COMPILER PARM IS REQUIRED FOR DEBUG TOOL
//*    2. COMPILER PARM TEST(NOHOOK,SEPARATE,EJPD) HAS ADVANTAGES:
//*         - THE MODULE IS READY FOR DEBUG TOOL
//*         - THE MODULE IS PRODUCTION-READY (NO RUN-TIME OVERHEAD)
//*         - A SYSDEBUG FILE IS CREATED THAT CAN BE USED BY DT,FA,APA
//*    3. COMPILER PARMS LIST,MAP,SOURCE,XREF ARE REQUIRED IF YOU PLAN
//*       TO USE THE COMPILER LISTING WITH FA OR APA, OR IPVLANGX
//*
//*   BINDER (LINKAGE EDITOR):
//*    4. THE INCLUDE FOR MODULE EQAD?CXT IS *OPTIONAL*.  IT IS AN
//*       LE EXIT MODULE THAT CAN BE USED TO START DEBUG TOOL.
//*       UNDERSTAND THE METHODS AVAILABLE FOR STARTING DEBUG TOOL,
//*       AND CHOOSE WHETHER YOU WANT TO USE THE LE EXITS.
//*         IF YOU USE THIS METHOD, LOAD THE CORRECT EXIT MODULE:
//*            EQADBCXT: FOR BATCH PROGRAMS
//*            EQADICXT: FOR ONLINE IMS PROGRAMS
//*            EQADDCXT: FOR DB2 STORED PROCEDURES (OF TYPE MAIN AND SUB)
//*           (for SUB this is supported only for invocations through call_sub)
//*            (DO NOT INCLUDE AN EXIT FOR CICS PROGRAMS)
//*            YOU CAN ALSO USE MODULE EQAD3CXT FOR BATCH PROGRAMS, ONLINE IMS
//*            PROGRAMS, AND DB2 TYPE MAIN STORED PROCEDURES.
//*
//   EXPORT SYMLIST=(MEM,DB2)
//*  SET PARMS FOR THIS COMPILE:
//*  ---------------------------
//   SET MEM={{ pgmToCompile }}                 PROGRAM NAME
//   SET COBOLLIB='COBOL.V6R3.SIGYCOMP'       COBOL COMPILER LOADLIB
//   SET LNGPRFX='COBOL.V6R3'                 COBOL COMPILER LOADLIB
//   SET LELIB='CEE.SCEELKED'                 LE LINKEDIT LIBRARY
//*   SET DSPREFIX='AYMERIC'                   DATASETs PREFIX
//   SET DSPREFIX='AYMERIC.IMS'                   DATASETs PREFIX
//*   SET DB2PREF='DBC0CFG.DB2.V12'
//   SET DB2PREF='DB2.V12'
//   SET DB2=DBC1
//*   SET DB2=DBC0
//*   SET LIBPRFX='CEE'                        LE LINKEDIT LIBRARY PREFIX
//*
//*  ********************************************************
//*        PRE COMPILE STEP     CREATION DES DBRM
//*  ********************************************************
//PRECOMP  EXEC PGM=DSNHPC,REGION=4M,PARM='HOST(IBMCOB),STDSQL(NO)'
//STEPLIB   DD DISP=SHR,DSN=&DB2PREF..SDSNEXIT
//          DD DISP=SHR,DSN=&DB2PREF..SDSNLOAD
//SYSCIN    DD DISP=(,PASS),UNIT=VIO,SPACE=(TRK,(5,5))
//SYSIN     DD DISP=SHR,DSN=&DSPREFIX..SOURCES(&MEM)
//DBRMLIB   DD DISP=SHR,DSN=&DSPREFIX..DBRMLIB.DATA(&MEM)
//SYSLIB    DD DISP=SHR,DSN=DBC0CFG.SRCLIB.DATA
//          DD DISP=SHR,DSN=&DB2PREF..SDSNSAMP
//SYSPRINT  DD SYSOUT=*
//SYSTERM   DD SYSOUT=*
//SYSUDUMP  DD SYSOUT=*
//SYSUT1    DD UNIT=VIO,SPACE=(TRK,(5,5))
//SYSUT2    DD UNIT=VIO,SPACE=(TRK,(5,5))
//*  ********************************************************
//*        COMPILE STEP
//*  ********************************************************
//         IF RC <= 4 THEN
//COMPILE  EXEC PGM=IGYCRCTL,REGION=0M,PARM=(LIST,MAP,SOURCE,XREF,RENT)         
//*                                    PARM=(LIB,RENT) 'OPTFILE'
//*   PARM=('TEST(NOHOOK,SEPARATE,EJPD),LIST,MAP,XREF(SHORT),NONUMBER,SOURCE')
//STEPLIB  DD  DSNAME=&LNGPRFX..SIGYCOMP,DISP=SHR
//         DD  DSNAME=CEE.SCEELKED,DISP=SHR
//         DD  DSNAME=CEE.SCEERUN,DISP=SHR
//         DD  DSNAME=CEE.SCEERUN2,DISP=SHR
//SYSIN     DD DISP=(OLD,DELETE),DSN=*.PRECOMP.SYSCIN
//SYSLIB   DD  DISP=SHR,DSN=&DSPREFIX..SOURCES
//SYSPRINT DD  SYSOUT=*
//SYSLIN   DD  DSNAME=&&LOADSET,UNIT=SYSALLDA,
//             DISP=(MOD,PASS),SPACE=(CYL,(1,1))
//SYSUT1   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT2   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT3   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT4   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT5   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT6   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT7   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT8   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT9   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT10  DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT11  DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT12  DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT13  DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT14  DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSUT15  DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//SYSMDECK DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//         ENDIF
//*
//*CBLPRINT  EXEC PGM=IEBGENER,REGION=0M
//*SYSPRINT  DD SYSOUT=*
//*SYSUT1    DD DSN=&SYSUID..ADLAB.LISTING(&MEM),DISP=SHR
//*SYSUT2    DD SYSOUT=*
//*SYSIN     DD DUMMY
//*
//*  *************************************************************
//*        LINK-EDIT (BINDER) STEP
//*  *************************************************************
//         IF RC <= 4 THEN
//LKED EXEC PGM=IEWBLINK,REGION=0M,COND=(5,LT,COMPILE),PARM='LIST,XREF'
//SYSLIB   DD DISP=SHR,DSN=&LELIB
//         DD DSN=&DB2PREF..SDSNLOAD,DISP=SHR
//         DD DSN=DBC0CFG.RUNLIB.LOAD,DISP=SHR
//RESLIB   DD DISP=SHR,DSN=IMSCFG.IMC1.SDFSRESL
//SYSLMOD  DD DISP=SHR,DSN=IMSCFG.IMSC.PGMLIB(&MEM)
//SYSLIN   DD DISP=(OLD,DELETE),DSN=&&LOADSET
//         DD DDNAME=SYSIN
//SYSPRINT DD SYSOUT=*
//SYSUT1   DD  UNIT=SYSALLDA,SPACE=(CYL,(1,1))
//LKED.SYSIN  DD *,SYMBOLS=EXECSYS
  INCLUDE  RESLIB(CBLTDLI)
  ENTRY    DLITCBL
  NAME     &MEM(R)
/*
//         ENDIF
//*
//*  *************************************************************
//*        BIND Package dans Db2
//*  *************************************************************
//         IF RC <= 4 THEN
//BIND     EXEC PGM=IKJEFT01,DYNAMNBR=20
//DBRMLIB   DD DISP=SHR,DSN=&DSPREFIX..DBRMLIB.DATA
//SYSTSPRT  DD SYSOUT=*
//SYSPRINT  DD SYSOUT=*
//SYSIN     DD *,SYMBOLS=EXECSYS
   GRANT BIND, EXECUTE ON PLAN &MEM. TO PUBLIC;
   GRANT BIND, EXECUTE ON PACKAGE &MEM..* TO PUBLIC;
//SYSTSIN   DD *,SYMBOLS=EXECSYS
DSN SYSTEM(&DB2.)
   BIND PACKAGE(&MEM.) MEMBER(&MEM.) -
        ISOLATION(UR) QUALIFIER(PHONEBOOK)
   BIND PLAN(&MEM.) PKLIST(&MEM..*)
RUN  PROGRAM(DSNTIAD) PLAN(DSNTIA12) -
      LIB('DBC0CFG.RUNLIB.LOAD')
/*
//         ENDIF